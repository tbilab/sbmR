<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fit and investigate Stochastic Block Models in R • sbmR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Fit and investigate Stochastic Block Models in R">
<meta property="og:description" content="Fit and investigate Stochastic Block Models in R. Built for speed using custom C++ code and primarily focused on investigating uncertianty in model clusteirng results using posterior sampling. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sbmR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/agglomerative_merging.html">Agglomerative Merging</a>
    </li>
    <li>
      <a href="articles/sampling_from_posterior.html">Sampling From Posterior</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nstrayer/sbmR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="sbmr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sbmr" class="anchor"></a>SBMR</h1></div>
<!-- badges: start -->

<p>An R package for fitting and exploring the results of Stochastic Block Models for network data.</p>
<div id="what-are-sbms" class="section level2">
<h2 class="hasAnchor">
<a href="#what-are-sbms" class="anchor"></a>What are SBMs?</h2>
<p>SBM Stands for “Stochastic Block Model.” These models are used to describe the generating process for graph data where nodes are arranged into ‘blocks’ (or ‘clusters’ or ‘groups’).</p>
<div id="block" class="section level3">
<h3 class="hasAnchor">
<a href="#block" class="anchor"></a>“Block”</h3>
<p>A given block of nodes can be characterized by the propensity for a node within it to be connected to all the other blocks in the network. For instance, in a network of three blocks - a, b, and c - any node from block a may have an average number of connections to other nodes in block a of 5, an average of 10 connections to nodes in block b, and 1 to nodes in block c.</p>
</div>
<div id="stochastic" class="section level3">
<h3 class="hasAnchor">
<a href="#stochastic" class="anchor"></a>“Stochastic”</h3>
<p>Stochastic (a fancy word for “with randomness”) just means that while that node from block a may have on average 5, 10, and 1 connections to blocks a, b, and c respectively, the actual observed values may be different, perhaps 4, 8, and 3. In this standard case the random model that is used to ‘draw’ these random counts is the poisson model. Other distributions can be used (such as bernouli for binary connection or no connection edges), but the package currently only supports <em>inference</em> with the poisson model.</p>
</div>
<div id="fitting-a-model" class="section level3">
<h3 class="hasAnchor">
<a href="#fitting-a-model" class="anchor"></a>Fitting a “Model”</h3>
<p>Up to now the model has been described as one to generate data, but that’s not particularly interesting. When you fit an SBM to some data what you are doing is trying to find the underlying model that is most likely to have generated your observed data.</p>
<p>This package does that using Markov Chain Monte Carlo (MCMC) where the underlying model that may have generated your data is shuffled around to likely layouts and how well that layout fits your data is recorded. This results in many possible models where the frequency of a model layout occuring is proportional to how well supported that layout is by your data.</p>
</div>
</div>
<div id="are-my-data-appropriate-for-an-sbm" class="section level2">
<h2 class="hasAnchor">
<a href="#are-my-data-appropriate-for-an-sbm" class="anchor"></a>Are my data appropriate for an SBM?</h2>
<p>Like any good statistical model many assumptions about your data and its generating process need to be made for the model results to have any meaning. In the case of the SBM these assumptions are relatively minimal.</p>
<div id="data-can-be-represented-as-a-graph-with-edges-counts-between-nodes" class="section level3">
<h3 class="hasAnchor">
<a href="#data-can-be-represented-as-a-graph-with-edges-counts-between-nodes" class="anchor"></a>Data can be represented as a graph with edges counts between nodes</h3>
<p>The classic data that fits this is social network data. A node may represent an individual and edges represent the existance of a connection (friendship, interaction, etc) with an other node. Multipartite graph data is also supported. The work that this package was developed for is bipartite data (meaning two-node-types) of an individual and disease diagnoses, an “individual node” is connected to a “disease-node” if the person was diagnosed with that disease.</p>
<p>Examples of data that are not appropriate are anything where the connections are continuous. Perhaps nodes are cities and the edges are number of miles between them (with a fractional miles). While you could round these continuous values to integers it is highly likely that it is innapropriate for the model and you are better served finding a more parsimonius model.</p>
</div>
<div id="the-underlying-phenomena-generating-your-data-should-result-in-sets-of-nodes-that-have-similar-connection-patterns" class="section level3">
<h3 class="hasAnchor">
<a href="#the-underlying-phenomena-generating-your-data-should-result-in-sets-of-nodes-that-have-similar-connection-patterns" class="anchor"></a>The underlying phenomena generating your data should result in sets of nodes that have similar connection patterns</h3>
<p>The SBM attempts to partition the nodes in your data into groups that are, in the eyes of the model, identical in terms of there probability of connection the node partitioning. If this is unreasonable for the data, the model will not return valid results. For instance, in many data with people, socioeconomic information can be highly predictive of a large number of outcomes. In this case the SBM will be more likely do differntiate different socioeconomic classes rather than a more interesting separation. In addition, the socioeconomic confounding in this case is continuous and therefor breaks the assumption of clean groups of nodes.</p>
</div>
</div>
<div id="package-goals" class="section level2">
<h2 class="hasAnchor">
<a href="#package-goals" class="anchor"></a>Package Goals</h2>
<p>This package has a limited scope it aims to do the following things well:</p>
<ul>
<li>Fit SBM models using Bayesian MCMC</li>
<li>Heavy focus on model uncertainty</li>
<li>Easily work with multi-partite (bi, tri, etc) graph data</li>
<li>Produce meaningful and high-quality visualizations of model results</li>
</ul>
<p>For more powerful (but larger and harder-to-install) libraries for working with graph data check out <code>graph-tool</code> for Python (heavy SBM focus with many more features than <code>sbmR</code>) and <code>iGraph</code> (a giant in graph data manipulation and exploration.)</p>
<p>If there is a feature that you feel would be very beneficial to the package that would save you needing to go to another package for a small graph-data/SBM related function, please let me know in <a href="https://github.com/tbilab/sbmR/issues">github issues</a> or if you have the time/desire a PR (I am willing to help out implementation details for those not fully comfortable with PRs into open source yet).</p>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Please see the <a href="">articles on package usage on the package website.</a></p>
</div>
<div id="development" class="section level2">
<h2 class="hasAnchor">
<a href="#development" class="anchor"></a>Development</h2>
<p>This package is currently under active development. Commits to the master branch pass all included R and C++ tests but are not guarenteed to be bug free. If you discover a bug in use please report using the <a href="https://github.com/tbilab/sbmR/issues">issue tracker for the github repo.</a></p>
</div>
<div id="running-tests" class="section level2">
<h2 class="hasAnchor">
<a href="#running-tests" class="anchor"></a>Running Tests</h2>
<p>Tests for the package fall under two categories: tests for the underlying c++ code and the R package code.</p>
<div id="c-tests" class="section level3">
<h3 class="hasAnchor">
<a href="#c-tests" class="anchor"></a>C++ tests</h3>
<p>Tests for c++ code are implemented using a precompiled header test library so testing is as simple as cloning this repo and then running the shell script <code>src/cpp_tests/run_tests.sh</code>.</p>
<p>E.g.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="fu">sh</span> src/cpp_tests/run_tests.sh</a></code></pre></div>
<p>The results should be output with timings etc.</p>
<div id="profiling" class="section level4">
<h4 class="hasAnchor">
<a href="#profiling" class="anchor"></a>Profiling</h4>
<p>As the C++ code is should be as fast as possible, a profiling workflow for detecting slow areas of code is also included. Like with testing the script <code>src/profiling/run_profiling.sh</code> will compile a <code>profile.cpp</code> script, run it, and return the output to json file for investigation in your favorite flame-graph viewer such as <code>chrome://tracing</code>.</p>
</div>
</div>
<div id="r-tests" class="section level3">
<h3 class="hasAnchor">
<a href="#r-tests" class="anchor"></a>R tests</h3>
<p>Tests for the R package code that wraps the underlying c++ heavy lifting are done using the standard testthat workflow. To run them either use the built in build pane in RStudio or run <code><a href="https://rdrr.io/pkg/devtools/man/test.html">devtools::test()</a></code>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/nstrayer/sbmR">https://​github.com/​nstrayer/​sbmR</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Nick Strayer <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/nstrayer/sbmR/actions"><img src="https://github.com/nstrayer/sbmR/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Nick Strayer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
